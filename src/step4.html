<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <title>step4</title>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular-resource.min.js"></script>
</head>
<body>
<style type="text/css">
    .isBlue {
        background-color: blue;
    }
</style>
<script type="application/javascript">
    var app = angular.module('primangular', ['ngResource']);
    app.factory('Issues', function Issues($resource) {
        return $resource('rest/issues.json');
    });
    app.directive('pIssues', function () {
        return {
            restrict: 'A',
            templateUrl: 'tmpls/issues.html',
            link: function (scope, element, attributes) {

            },
            controller: function ($scope, Issues) {
                $scope.isBlue = false;
                Issues.get().$promise.then(function (data) {
                    $scope.issues = data.issues;
                });

                $scope.makeItBlue = function () {
                    $scope.isBlue = !$scope.isBlue;
                };
            }
        };
    });
</script>
<div class="container" ng-app="primangular">
    <div p-issues></div>
</div>
</body>
</html>